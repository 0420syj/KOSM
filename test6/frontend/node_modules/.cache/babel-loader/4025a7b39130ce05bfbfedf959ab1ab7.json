{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Son\\\\Desktop\\\\test6\\\\test6\\\\frontend\\\\src\\\\profile\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport LoadingIndicator from '../common/LoadingIndicator';\nimport { getUserProfile } from '../util/APIUtils';\nimport { fetchFav, deleteFavById } from '../util/APIAdmin';\nimport { Link } from \"react-router-dom\";\nimport \"./Profile.css\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      isLoading: false,\n      favs: []\n    };\n    this.loadUserProfile = this.loadUserProfile.bind(this);\n    this.loadFav = this.loadFav.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n  }\n\n  onDelete(fno) {\n    deleteFavById(fno).then(res => {\n      this.setState({\n        favs: this.state.favs.filter(fav => fav.fno !== fno)\n      });\n    });\n  }\n\n  loadFav(username) {\n    fetchFav(username).then(res => {\n      this.setState({\n        favs: res\n      }, function () {\n        console.log('profile');\n        console.log(res);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  loadUserProfile(username) {\n    this.setState({\n      isLoading: true\n    });\n    getUserProfile(username).then(response => {\n      this.setState({\n        user: response,\n        isLoading: false\n      }, function () {\n        console.log(response);\n      });\n    }).catch(error => {\n      if (error.status === 404) {\n        this.setState({\n          notFound: true,\n          isLoading: false\n        });\n      } else {\n        this.setState({\n          serverError: true,\n          isLoading: false\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    const username = this.props.match.params.username;\n    this.loadUserProfile(username);\n    this.loadFav(username);\n  }\n\n  componentDidUpdate(nextProps) {\n    if (this.props.match.params.username !== nextProps.match.params.username) {\n      this.loadUserProfile(nextProps.match.params.username);\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return React.createElement(LoadingIndicator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.user ? React.createElement(\"div\", {\n      className: \"profile_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"full-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.user.name), React.createElement(\"div\", {\n      className: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"@\", this.state.user.username))))) : null);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Son/Desktop/test6/test6/frontend/src/profile/Profile.js"],"names":["React","Component","LoadingIndicator","getUserProfile","fetchFav","deleteFavById","Link","Profile","constructor","props","state","user","isLoading","favs","loadUserProfile","bind","loadFav","onDelete","fno","then","res","setState","filter","fav","username","console","log","catch","error","response","status","notFound","serverError","componentDidMount","match","params","componentDidUpdate","nextProps","render","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport LoadingIndicator  from '../common/LoadingIndicator';\r\nimport { getUserProfile } from '../util/APIUtils';\r\nimport {fetchFav, deleteFavById} from '../util/APIAdmin';\r\nimport {Link} from \"react-router-dom\";\r\nimport \"./Profile.css\";\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: null,\r\n            isLoading: false,\r\n            favs:[]\r\n        }\r\n        this.loadUserProfile = this.loadUserProfile.bind(this);\r\n        this.loadFav = this.loadFav.bind(this);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n\r\n    onDelete(fno){\r\n        deleteFavById(fno)\r\n            .then(res => {\r\n                this.setState({favs:this.state.favs.filter(fav => fav.fno !== fno)})\r\n            })\r\n    }\r\n\r\n    loadFav(username){\r\n        fetchFav(username)\r\n            .then(res => {\r\n                this.setState({\r\n                favs : res\r\n                }, function(){\r\n                    console.log('profile');\r\n                    console.log(res)\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n\r\n    loadUserProfile(username) {\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n\r\n        getUserProfile(username)\r\n        .then(response => {\r\n            this.setState({\r\n                user: response,\r\n                isLoading: false\r\n            }, function(){\r\n                console.log(response);\r\n            });\r\n        }).catch(error => {\r\n            if(error.status === 404) {\r\n                this.setState({\r\n                    notFound: true,\r\n                    isLoading: false\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    serverError: true,\r\n                    isLoading: false\r\n                });        \r\n            }\r\n        });        \r\n    }\r\n\r\n    componentDidMount() {\r\n        const username = this.props.match.params.username;\r\n        this.loadUserProfile(username);\r\n        this.loadFav(username);\r\n    }\r\n\r\n    componentDidUpdate(nextProps) {\r\n        if(this.props.match.params.username !== nextProps.match.params.username) {\r\n            this.loadUserProfile(nextProps.match.params.username);\r\n        }        \r\n    }\r\n\r\n    render() {\r\n\r\n        if(this.state.isLoading) {\r\n            return <LoadingIndicator />;\r\n        }\r\n\r\n      \r\n       \r\n        return (\r\n            <div className=\"profile\">\r\n                { \r\n                    this.state.user ? (\r\n                        <div className=\"profile_container\">\r\n                            <div className=\"user-profile\">\r\n                                <div className=\"user-details\">\r\n                                    \r\n                                    <div className=\"user-summary\">\r\n                                        <div className=\"full-name\">{this.state.user.name}</div>\r\n                                        <div className=\"username\">@{this.state.user.username}</div>\r\n                                    </div>\r\n                                </div> \r\n                            </div>  \r\n                        \r\n                        </div>\r\n                    ): null               \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}