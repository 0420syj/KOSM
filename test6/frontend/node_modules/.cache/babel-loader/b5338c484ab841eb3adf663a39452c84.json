{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport omit from 'omit.js';\nexport default function createBodyRow() {\n  var Component = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tr';\n\n  var BodyRow =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(BodyRow, _React$Component);\n\n    function BodyRow(props) {\n      var _this;\n\n      _classCallCheck(this, BodyRow);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(BodyRow).call(this, props));\n      _this.store = props.store;\n\n      var _this$store$getState = _this.store.getState(),\n          selectedRowKeys = _this$store$getState.selectedRowKeys;\n\n      _this.state = {\n        selected: selectedRowKeys.indexOf(props.rowKey) >= 0\n      };\n      return _this;\n    }\n\n    _createClass(BodyRow, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.subscribe();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.unsubscribe) {\n          this.unsubscribe();\n        }\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            store = _this$props.store,\n            rowKey = _this$props.rowKey;\n        this.unsubscribe = store.subscribe(function () {\n          var _this2$store$getState = _this2.store.getState(),\n              selectedRowKeys = _this2$store$getState.selectedRowKeys;\n\n          var selected = selectedRowKeys.indexOf(rowKey) >= 0;\n\n          if (selected !== _this2.state.selected) {\n            _this2.setState({\n              selected: selected\n            });\n          }\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var rowProps = omit(this.props, ['prefixCls', 'rowKey', 'store']);\n        var className = classnames(this.props.className, _defineProperty({}, \"\".concat(this.props.prefixCls, \"-row-selected\"), this.state.selected));\n        return React.createElement(Component, _extends(_extends({}, rowProps), {\n          className: className\n        }), this.props.children);\n      }\n    }]);\n\n    return BodyRow;\n  }(React.Component);\n\n  return BodyRow;\n}","map":{"version":3,"sources":["table/createBodyRow.jsx"],"names":["Component","BodyRow","React","props","selectedRowKeys","selected","store","rowKey","rowProps","omit","className","classnames"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classnames from 'classnames';\nimport omit from 'omit.js';\nexport default function createBodyRow(Component = 'tr') {\n    class BodyRow extends React.Component {\n        constructor(props) {\n            super(props);\n            this.store = props.store;\n            const { selectedRowKeys } = this.store.getState();\n            this.state = {\n                selected: selectedRowKeys.indexOf(props.rowKey) >= 0,\n            };\n        }\n        componentDidMount() {\n            this.subscribe();\n        }\n        componentWillUnmount() {\n            if (this.unsubscribe) {\n                this.unsubscribe();\n            }\n        }\n        subscribe() {\n            const { store, rowKey } = this.props;\n            this.unsubscribe = store.subscribe(() => {\n                const { selectedRowKeys } = this.store.getState();\n                const selected = selectedRowKeys.indexOf(rowKey) >= 0;\n                if (selected !== this.state.selected) {\n                    this.setState({ selected });\n                }\n            });\n        }\n        render() {\n            const rowProps = omit(this.props, ['prefixCls', 'rowKey', 'store']);\n            const className = classnames(this.props.className, {\n                [`${this.props.prefixCls}-row-selected`]: this.state.selected,\n            });\n            return React.createElement(Component, Object.assign(Object.assign({}, rowProps), { className }), this.props.children);\n        }\n    }\n    return BodyRow;\n}\n"]},"metadata":{},"sourceType":"module"}